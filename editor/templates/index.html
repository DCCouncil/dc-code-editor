{% extends "base.html" %}

{% block title %}DC Code Editor{% endblock %}

{% block body %}
<div class="container">
	<h1>Start a New Patch</h1>

	<p>Start a <a href="{{head_patch.edit_url}}/_new">new patch</a> based on the text of the top-most patch.</p>

	<h1>Timeline</h1>

	<div id="timeline">
	{% for row in patch_tree_rows %}
		<div class="timeline-row">
			{% for rec in row %}
				<div class="timeline-patch">
					<div class="timeline-patch-anchor"><a href="{{rec.obj.edit_url}}">{{rec.obj.title}}</a></div>
					<div class="timeline-patch-metadata">
						<div>Created: {{rec.obj.created_formatted}}</div>
						{% if rec.obj.type != "root" and rec.obj.children.length %}
							<div><a href="{{rec.obj.edit_url}}/_new">Modify</a></div>
						{% endif %}
					</div>
				</div>
			{% endfor %}
		</div>
	{% endfor %}
	</div>
</div>

{% endblock %}
